# avoid double builds on pull requests
branches:
  only:
    master

jobs:
  include:
    # Update JSON
    - stage: Update JSON
      script:
        # push updates only for master (PR changes must be committed to master before they are taken into account)
        - if [ "$TRAVIS_BRANCH" == "master" ] && [ "$TRAVIS_PULL_REQUEST" == "false" ]; then ./push_updates.sh; fi

env:
  global:
    # to create secure for travis-ci.com
    # 1. create personal access token with public_repo permissions
    # 2. clone this repo (not a fork)
    # 3. run in the clone: travis encrypt GH_TOKEN="<access_token>" --pro (GH_TOKEN is the variable which is used in push_updates.sh)
    # 4. set output below
    - secure: "DidNd4sGEYDa0rLIbdovqB2rTPlAoxuKkV1dJ/ilFE4e0H0TN9BcewSGPMSRkqznzoGRq3vaiExlUQZWSnhpV6xoIJc+JQrwI0Qmme0Usm7pfszbBIyG89sg2Glr9xjehGpUvK9krQ/sPS+2sU5vNDCBpKnpr6iJ9QweOWgSOO7mBHUsS49NLOQVF/EE6aprtRi1H+/AXI8FBJEzFjbJzxTJ9pHhsbKM3BAgPdlf2yqaGMlnFfC2s3JVxELOWkarwjVlGZPH6QD+RLjgqRtNpHNKieuvkCyjvuib2jeotJiafwvjLnaVnWrriU++0nTHb7Ym18oljtOh8h4fD+GLN9oUPJhF31KYmReld7Xspkyh6+LyhaZ10lUWqrHcsZ0zf11RMfnykGiHnEVKtRijz4kjgw98ea9mY++N6qKcYsldDoHGdrRcTW+a2B6MNutlzTKJslSF4rIVcVyACb8YuVEw39tjF3aUjN90/iL3puN0bgoAJLysxxE0A1OvkG6+coBRkrHfS8EqwPy/Yj2I0dNvZ/8L54kPSxoiHx9JJbSVdprVbCpp6aqel191BA89/zhhJ/ZrlTKohEbp/A9AKTIQ6Y5ohPztMHdW0VhskevlecpIRQa8wg75iB/by4yLX5a+jUXAkIFglmcX+VBBreBpdXtX5bm9ZZ0bBrB/0Ao="
